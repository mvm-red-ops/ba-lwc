<template>
  <template if:false={dealProgramSelected}>
      <c-dealprogram-dropdown
        ondealprogramselection={handleDealProgramSelection}
      ></c-dealprogram-dropdown>
  </template>

  <template if:true={dealProgramSelected}>
    <div class="slds-m-bottom_x-small">
      <lightning-card icon-name="custom:custom13" variant="narrow"  title={dealProgram} >
        <div>
          <lightning-button class="slds-m-left_small" variant="destructive" label="Reselect" onclick={resetState}></lightning-button>
        </div>
      </lightning-card>
    </div>
    <template if:false={documentId}>
      <c-file-upload 
      onfileupload={handleFileUpload}
    ></c-file-upload>
    </template>
    
    <template if:true={documentId}>
       <!-- Legend start -->
       <c-legend
       count={count}
       matched-count={matchedCount}
       unmatched-count={unmatchedCount}
       ></c-legend>
     <!-- Legend start -->
      <!-- Data table start -->
      <c-data-table
        document-id={documentId}
        deal-program={dealProgram}
        onspinnerhandler={spinnerHandler}
        oncount={countHandler}>
      </c-data-table>
      <!-- Data table start -->
    </template>
  </template>

  <template if:true={toggleSpinner}>
    <c-loading-spinner></c-loading-spinner>
  </template>

</template>