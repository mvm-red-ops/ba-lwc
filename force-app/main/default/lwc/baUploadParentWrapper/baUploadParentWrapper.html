<template>
  <template if:false={dealProgramSelected}>
      <c-dealprogram-dropdown
        ondealprogramselection={handleDealProgramSelection}
      ></c-dealprogram-dropdown>
  </template>

  <template if:true={dealProgramSelected}>
    <div class="slds-m-bottom_x-small">
      <lightning-card icon-name="custom:custom13" variant="narrow"  title={dealProgram} >
        <div>
          <lightning-button class="slds-m-left_small" variant="destructive" label="Reselect" onclick={resetState}></lightning-button>
        </div>
      </lightning-card>
    </div>
    <template if:false={documentId}>
      <c-file-upload 
      onfileupload={handleFileUpload}
      my-record-id={myRecordId}
    ></c-file-upload>
    </template>
    
    <template if:true={displayDatatable}>
       <!-- Legend start -->
       <c-legend
       matched-count={matchedCount}
       unmatched-count={unmatchedCount}
       ></c-legend>
      <!-- Legend end -->

      <!-- Data table start -->
      <c-data-table
        sched-data={data}
        table-scheds={dataTableScheds}
        onscheduleselected={handleScheduleSelection}>
      </c-data-table>
      <!-- Data table end -->

      <!--Update button start-->
      <c-update-button
        onupdateschedules={updateSchedules}
      ></c-update-button>
      <!--Update button end-->
   

    </template>
  </template>

  <template if:true={toggleSpinner}>
    <c-loading-spinner></c-loading-spinner>
  </template>

</template>