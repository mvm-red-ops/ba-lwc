<template>
    <lightning-card>
       
        <!-- Data Table start -->

        <div if:true={displayDatatable}>
            <div if:true={count} style="height: 22rem;">
                <lightning-datatable columns={columns} 
                                    data={tableScheds} 
                                    key-field="Id"
                                    onrowselection={handleScheduleView}
                                    onrowaction={handleScheduleComparison}>
                </lightning-datatable>
            </div>
    
        <!-- Data Table end -->
  
        <!-- Compare Schedule Modal start (Row Action) -->
  
        <template if:true={showModal}>
            <section role="dialog" tabindex="-1"
                    aria-labelledby="modal-heading-01"
                    aria-modal="true"
                    aria-describedby="modal-content-id-1"
                    class="slds-modal slds-fade-in-open">
            <div class="slds-modal__container">
                <!-- modal header -->
                <header class="slds-modal__header">
                    <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={closeModal}>
                        <lightning-icon icon-name="utility:close" alternative-text="close" variant="inverse" size="small" ></lightning-icon>
                    </button>
                    
                    <h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">Record Detail</h2>
                </header>
                <!-- modal body -->
                <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                  <lightning-datatable 
                      columns={modalColumns} 
                      data={modalScheds} 
                      hide-checkbox-column="true"
                      key-field="Id">
                 </lightning-datatable>
                </div>
              
  
                <!-- modal footer start-->
                <footer class="slds-modal__footer" >
                    <lightning-button variant="brand"
                                      label="Close"
                                      title="Close"
                                      onclick={closeModal}></lightning-button>
                </footer>
            </div>
            </section>
            <div class="slds-backdrop slds-backdrop_open"></div>
        </template>
       <!-- Compare Schedule Modal end -->
  
    
    
    
        <!-- Update Component start -->
    
            <div if:true={renderUpdateComponent} class="custom-footer">
            <c-update-button 
                export-matches={exportMatches} 
                export-unmatches={exportUnmatches} 
                selected-rows={selectedRows} 
                onhidespinner={hideSpinner}
                onupdateinitiated={handleUpdateInitiated}
                onupdatesucceeded={handleUpdateSucceeded}
                onupdatefailed={handleUpdateFailed}
                >
            </c-update-button>
            </div>
    
        <!-- Update Component end -->
    
        </div>
    </lightning-card>
</template>